{{<layouts/1-column}}

	{{$h1}}Dart Charge{{/h1}}

	{{$column-1}}
		<h2>Personal information</h2>
		<form action="/account/setup/vehicle">
			<p>
				<label for="name-first">First name</label>
				<input id="name-first" name="name-first" type="text" />
			</p>
			<p>
				<label for="name-last">Last name</label>
				<input id="name-last" name="name-last" type="text" />
			</p>
			<p>
				<input id="behalf-of-company" name="behalf-of-company" type="checkbox" />
				<label for="behalf-of-company">Are you applying on behalf of a company?</label>
			</p>
			<fieldset id="company">
				<p>
					<label for="company-name">Company name</label>
					<input id="company-name" name="company-name" type="text" />
				</p>
				<p>
					<label for="company-number">Registered company number</label>
					<input id="company-number" name="company-number" type="text" />
				</p>
			</fieldset>
			<p>
				<label for="email">Email address</label>
				<input id="email" name="email" type="email" />
			</p>
			<p>
				<label for="email-confirm">Confirm your email address</label>
				<input id="email-confirm" name="email-confirm" type="email" />
			</p>
			<p>
				<label for="password">Password</label>
				<input id="password" name="password" type="password" />
			</p>
			<p>
				<label for="password-confirm">Confirm your password</label>
				<input id="password-confirm" name="password-confirm" type="password" />
			</p>
			<p>
				<label for="telephone">Telephone number</label>
				<input id="telephone" name="telephone" type="tel" />
			</p>
			<p>
				<label for="secondary-telephone">Secondary telephone number (optional)</label>
				<input id="secondary-telephone" name="secondary-telephone" type="tel" />
			</p>
			<h2>Security information</h2>
			<p>
				<label for="ivr-pin">IVR PIN</label>
				<input id="ivr-pin" name="ivr-pin" type="text" />
			</p>
			<h2>Address details</h2>
			<p>
				<label for="country">Country</label>
				<select id="country" name="country">
					<option selected="selected" value="uk">United Kingdom</option>
				</select>
			</p>
			<p>
				<label for="postcode">Postcode</label>
				<input id="postcode" name="postcode" type="text" />
			</p>
			<p><button id="find-address" class="button-secondary">Find address</button></p>
			<fieldset id="address">
				<p>
					<label for="address-found">Select your address</label>
					<select id="address-found" name="address-found">
						<option selected="selected" value="address-01">1 Anystreet, Townsville</option>
					</select>
				</p>
				<p>
					<input id="address-not-found" name="address-not-found" type="checkbox" />
					<label for="address-not-found">Can't find your address?</label>
				</p>
				<fieldset id="address-detail">
					<p>
						<label for="address-1">Address</label>
						<input id="address-1" name="address-1" type="text" />
					</p>
					<p>
						<label for="address-2">Address</label>
						<input id="address-2" name="address-2" type="text" />
					</p>
					<p>
						<label for="city">City</label>
						<input id="city" name="city" type="text" />
					</p>
					<p>
						<label for="county">County</label>
						<input id="county" name="county" type="text" />
					</p>
					<p>
						<input id="local-discount" name="local-discount" type="checkbox" />
						<label for="local-discount">Apply for a local discount</label>
					</p>
				</fieldset>
			</fieldset>
			<p><button disabled="disabled" id="next" type="submit">Next</button></p>
			<p><a href="/account/setup/dart-tag">Back</a></p>
		</form>
	{{/column-1}}

	{{$js-elements}}
		el = {
			address: $('#address'),
			addressDetail: $('#address-detail'),
			addressNotFound: $('#address-not-found'),
			body: $('body'),
			buttonNext: $('#next'),
			behalfCompany: $('#behalf-of-company'),
			company: $('#company'),
			companyNumber: $('#company-number'),
			findAddress: $('#find-address')
		}
	{{/js-elements}}

	{{$js-functions}}
		showAddresses = function() {
			setDisplay(el.address, true);
		},
		showAddressForm = function(target) {
			if (target.checked == true) {
				setDisplay(el.addressDetail, true);
			} else {
				setDisplay(el.addressDetail, false);
			}
		},
		testCompany = function(target) {
			if (target.checked == true) {
				setDisplay(el.company, true);
			} else {
				setDisplay(el.company, false);
				el.companyNumber.value = '';
			}
		}
	{{/js-functions}}

	{{$js-initialisation}}
		init = function() {
			if (window.location.search.match(/=debug/)) {
				el.body.classList.add('debug');
			}
			el.addressNotFound.addEventListener('click', function(e) {
				showAddressForm(e.target);
			}, false);
			el.behalfCompany.addEventListener('change', function(e) {
				testCompany(e.target);
			}, false);
			el.findAddress.addEventListener('click', function(e) {
				e.preventDefault();
				showAddresses();
			}, false);
		}
	{{/js-initialisation}}

{{/layouts/1-column}}
